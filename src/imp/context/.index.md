# /Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context — Module Index

## Exports
- `ClassInfo`
- `DirectoryModule`
- `FileInfo`
- `FunctionInfo`
- `ImportInfo`
- `InvokeFn`
- `Language`
- `ModuleInfo`
- `ProjectScan`
- `StaleModule`
- `SummaryEntry`
- `build_prompt`
- `detect_language`
- `detect_stale_modules`
- `discover_files`
- `generate_indexes`
- `init_command`
- `load_previous_scan`
- `load_summaries`
- `parse_file`
- `parse_python`
- `parse_typescript`
- `render_module_index`
- `render_root_index`
- `save_cache`
- `save_summaries`
- `scan_and_parse`
- `scan_project`
- `summarize_module`
- `summarize_project`

## Files (9)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/__init__.py` — Imp context — context window management and project understanding. (79 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/cli.py` — CLI commands for context/indexing. (164 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/indexer.py` — Indexer — Generate .index.md files and cache project scans.

L1 constraint: Only import from imp.context.models, pathlib, datetime, stdlib. (200 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/models.py` — Context models — L0 types for project understanding.

L0 constraint: Only import from pydantic, datetime, stdlib.
NO imports from other imp.* modules. (104 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/parser.py` — Context parser — L2 AST extraction.

L1 constraint: Only import from imp.context.models, stdlib, tree-sitter (optional).
NO imports from other L1/L2 modules. (369 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/scanner.py` — Context scanner — L1 file discovery and project scanning.

L1 constraint: Only imports from stdlib, imp.context.models.
Discovers source files and groups them into DirectoryModules.
No AST parsing at this level. (232 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/staleness.py` — Staleness detection — identify modules that need re-scanning.

Compares two ProjectScan snapshots to find new, deleted, and modified modules.
Uses file lists and sizes/line counts for change detection (no filesystem access). (144 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/summarizer.py` — Summarizer — AI-powered module summarization (L3).

Uses dependency injection to avoid importing imp.providers.
Pass an InvokeFn callable that wraps the AI provider. (162 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/context/summary_cache.py` — Summary cache — persist AI-generated module summaries.

Stores SummaryEntry objects keyed by module path in .imp/summaries.json.
Survives re-runs so AI summaries don't need to be regenerated every time. (65 lines)

## Dependencies
- External: __future__, ast, asyncio, collections, collections.abc, datetime, enum, json, os, pathlib, pydantic, rich, subprocess, typing
- Internal: imp.context.cli, imp.context.indexer, imp.context.models, imp.context.parser, imp.context.scanner, imp.context.staleness, imp.context.summarizer, imp.context.summary_cache, imp.types

## Last Updated
2026-02-15 by imp init
