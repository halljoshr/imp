# /Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers — Module Index

## Exports
- `AgentProvider`
- `AgentResult`
- `ModelRoster`
- `ProviderConfig`
- `PydanticAIProvider`
- `TokenUsage`
- `calculate_cost`
- `AgentProvider`
- `AgentResult`
- `TokenUsage`

## Files (6)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/__init__.py` — Imp providers — AI provider abstraction layer. (25 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/base.py` — Core provider abstractions.

This module defines provider-specific types and abstractions:
- AgentProvider: abstract base class for all provider implementations

Foundational types (TokenUsage, AgentResult) have been moved to imp.types
and are re-exported here for backward compatibility. (45 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/claude_sdk_model.py` — Custom Pydantic AI model for claude-agent-sdk integration.

This module provides a Pydantic AI compatible model wrapper around claude-agent-sdk,
allowing Max subscription usage through the standard provider abstraction. (307 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/config.py` — Provider configuration models.

Defines per-provider configuration and per-role model roster.
Uses BaseModel (not BaseSettings) for simplicity — env var loading can come later. (41 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/pricing.py` — Cost calculation for token usage.

Prices are per 1M tokens, based on Anthropic's pricing as of January 2025.
Cache pricing: write = 1.25x input, read = 0.1x input. (63 lines)
- `/Users/josh/Desktop/MetrIQ/projects/teambuild/imp/src/imp/providers/pydantic_ai.py` — Pydantic AI provider implementation.

Wraps Pydantic AI Agent for standardized usage tracking, cost calculation, and timing.
Supports both standard Pydantic AI providers and claude-agent-sdk integration. (168 lines)

## Dependencies
- External: __future__, abc, asyncio, dataclasses, json, pydantic, pydantic_ai, pydantic_ai.messages, pydantic_ai.models, pydantic_ai.models.test, pydantic_ai.profiles, pydantic_ai.settings, pydantic_ai.usage, re, time, typing
- Internal: imp.providers.base, imp.providers.config, imp.providers.pricing, imp.providers.pydantic_ai, imp.types

## Last Updated
2026-02-14 by imp init
